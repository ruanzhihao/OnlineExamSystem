<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>个人信息</title>
    <script type="text/javascript" src="js/jquery1.7.js"></script>
    <script type="text/javascript" src="js/jquery-1.8.2.js"></script>
    <!-- 引入自定义css文件 style.css -->
    <link rel="stylesheet" href="Ch/style.css" type="text/css" />
    <link rel="stylesheet" href="Ch/bootstrap.min.css" type="text/css" />
    <script src="js/bootstrap.min.js" type="text/javascript"></script>
    <style>
        body {
            margin-top: 20px;
            margin: 0 auto;
        }
        .carousel-inner .item img {
            width: 100%;
            height: 300px;
        }
        font {
            color: #3164af;
            font-size: 18px;
            font-weight: normal;
            padding: 0 10px;
        }
    </style>
    <script type="text/javascript">
        function toindex(){
            window.location.href="login";
        }

        //提交验证
        function Vaildate(form) {
            if(form.stuid.value==""||form.stuname.value==""||form.clazz.value==""||form.username.value=="")
            {
                alert("信息不能有空");
                return false;
            }
            if((form.sex.value== "男")||(form.sex.value== "女")) {
                return true;
            }
            else{
                alert("只能输入男或者女");
                form.sex.focus();
                return false;
            }
            return true;
        }

        $(function(){
            $.ajax({
                url:"ChangeInformation",
                type:"post",
                dataType:"json",
                success:function(data){
                    var arr = eval(data);
                    console.log(arr);
                    console.log(arr[0].username);
                    console.log(arr[0].stuname);
                    console.log(arr[0].stuid);
                    console.log(arr[0].clazz);
                   //console.log(arr[0].sex);
                    $("#username").attr("value",arr[0].username);
                    $("#stuname").attr("value",arr[0].stuname);
                    $("#stuid").attr("value",arr[0].stuid);
                   // $("#sex").attr("value",arr[0].sex);
                    $("#clazz").attr("value",arr[0].clazz);
                    $("#phone").attr("value",arr[0].phone);
                },
                error:function(error){
                    alert(error);
                }
            })
        })
    </script>
</head>
<body  style="background-image:url('/static/image/back1.jpg');background-size:cover">
<div >
    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-6"
             style="background: #fff; padding: 40px 80px; margin: 140px; border: 7px solid #ccc;">
            <font>修改信息</font>&nbsp;&nbsp;&nbsp;&nbsp;USER CHANGE <span style="color:red" th:text="${msg}"></span>
            <form class="form-horizontal" style="margin-top: 5px;"
                  action="ChangeStuInformation" method="post" onsubmit="return Vaildate(this);">
                <div class="form-group">
                    <label  class="col-sm-2 control-label">用户名</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" id="username" name="username" >
                    </div>
                </div>
                <div class="form-group">
                    <label  class="col-sm-2 control-label">姓名</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" id="stuname" name="stuname" >
                    </div>
                </div>
                <div class="form-group">
                    <label  class="col-sm-2 control-label">学号</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" id="stuid" name="stuid" >
                    </div>
                </div>
                <div class="form-group">
                    <label  class="col-sm-2 control-label">性别</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" id="sex" name="sex" >
                    </div>
                </div>
                <div class="form-group">
                    <label  class="col-sm-2 control-label">班级</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" id="clazz" name="clazz">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">手机号</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" id="phone" name="phone">
                    </div>
                </div>

                <br>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <input type="submit" width="100" value="修改" name="submit"
                               style="background: red; height: 35px; width: 100px; color: white;">
                        <input type="button" width="100" value="返回首页" onclick="toindex()"
                               style="background: red; height: 35px; width: 100px; color: white;"></div>
                </div>
            </form>
        </div>

        <div class="col-md-2"></div>

    </div>
</div>
</body>
</html>
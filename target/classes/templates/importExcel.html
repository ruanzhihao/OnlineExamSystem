<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="multipart/form-data; charset=utf-8" />    <title></title>
    <link rel="stylesheet" th:href="@{/Rzh/layui/css/layui.css}">
</head>
<body>
<div style="width: auto;height: 250px;"></div>
<div style="text-align: center;">
    <form class="layui-form layui-form-pane" id="importForm" action="getUpload" th:method="post" enctype="multipart/form-data">
        <div class="layui-form-item">
            <div class="layui-inline">
                <label class="layui-form-label">课程名称</label>
                <div class="layui-input-block" style="width:300px;">
                    <select name="courseId" lay-filter="courses" id="courseId">
                        <option>请选择</option>
                        <span th:each="courses:${courses}">
                        <option th:value="${courses.courseId}"><span th:text="${courses.courseName}"></span></option>
                        </span>
                    </select>
                </div>
            </div>
        </div>
        <div class="layui-form-item">
            <div class="layui-inline">
                <label class="layui-form-label">专业名称</label>
                <div class="layui-input-block" style="width:300px;">
                    <select name="majorId" lay-filter="majors" id="majorId">
                        <option>请选择</option>
                        <span th:each="majors:${majors}">
                        <option th:value="${majors.majorId}"><span th:text="${majors.majorName}"></span></option>
                            </span>
                    </select>
                </div>
            </div>
        </div>
        <div class="layui-form-item">
            <div class="layui-inline">
                <label class="layui-form-label">文件导入</label>
                <div class="layui-input-block" style="width:300px;">
                    <input type="file" id="excelFile" name="excelFile" />
                </div>
            </div>
        </div>

        <div class="layui-form-item">
            <div class="layui-inline">
                <div class="layui-input-block" style="width:300px;">
                    <button class="layui-btn" th:type="submit" lay-filter="fileImport">立即提交</button>
                    <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                </div>
            </div>
        </div>
    </form>
</div>
</body>
<script th:src="@{/Rzh/layui/layui.js}"></script>
<script>
    //一般直接写在一个js文件中
    layui.use(['layer', 'form'], function(){
        var layer = layui.layer
            ,form = layui.form; //只有执行了这一步，部分表单元素才会自动修饰成功
    });//弹框
</script>
<script>
    /*form.on('submit(fileImport)', function(data){
        // console.log(data.field)
        //parent.layer.msg("2");*/
    function onclick() {
        var formData = new FormData($( "#importForm" )[0]);
        console.info(formData);
/*
        var saveLoading = parent.layer.msg('数据提交中，请稍候',{icon: 16,time:false,shade:0.8});
*/
      /*  $.ajax({
            url : 'getUpload',
            type : 'post',
            async: false,
            data : formData,
            cache:false,
            contentType: false,
            processData: false,
            success : function(data) {
                // parent.layer.close(saveLoading);
                console.log(data);
                /!* if(data.code==1){
                     parent.layer.msg("保存成功");
                 }*!/
            }
        });
    }*/
</script>
</html>
